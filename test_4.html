<!DOCTYPE html>
<html>
	<head>
		<style>
			#square{
					 width:100px;
					 height:100px;
					 background-color:red;
					 position:absolute;
			 }	
		</style>
	</head>
	<body>
		<div id="square"></div>
	</body>
	<script>
		
			var elem=document.getElementById("square");
			var left = 400;
			var now=400;
			var millis=0;
			var lastFrame;
			// Move the element 10px on the right every 16ms
			function step(millis)
			{

				pausecomp(millis);
				elem.style.left = (left-=10+ (millis*10)/16 ) + "px";  // on augmente le decalage en fonction de millis
				if (now==400)
				{
					lastFrame =400;
				}
				else
				{
					lastFrame = now ;
				}
				now = parseInt(elem.style.left); // MaJ de now 
				if ( left > 0 ) 
				{
					requestAnimationFrame(step)  // si on est au dessus de 0 alors on continue d'appeler step
				}
				else
				{
					elem.style.left = 0;
				}
			} // fin d'appel, fonction ligne du dessus
			
			requestAnimationFrame(step) // on appelle la foncytion pour la premi√®re fois 

			var deltaT = now - lastFrame;
			// do not render frame when deltaT is too high
			if ( deltaT < 160 ) 
			{
				running = step( deltaT );
			}
		
			function pausecomp(millis) 
			{
				var date = new Date();
				var curDate = null;
				do { 
					curDate = new Date(); 
				} while(curDate-date < millis);
			}
		</script> 
</hmtl>
